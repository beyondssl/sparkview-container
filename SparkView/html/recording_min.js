RecordingManager=function(){function l(){e=0;0<h.length&&(h.length=0);0<f.length&&(f.length=0)}function r(b){if(0<e&&0<f.length)return u.exit(),(b||window.event).returnValue="Please download the recorded file first"}function m(b){for(var a=new Uint8Array(64),c=b.filetag||"RDPV",k=0,n=0;4>n;n++)a[k++]=c.charCodeAt(n);d(a,0,2,4);d(a,b.width,2,6);d(a,b.height,2,8);d(a,b.color,1,10);d(a,e,8,11);d(a,b.duration,8,19);d(a,1,4,27);h.push(a)}function d(b,a,c,k){for(--c;0<=c;c--)b[k++]=a>>8*c&255}function p(b){var a=
b.getType(),c=new Uint8Array(-1==a?8:10);d(c,b.getLen()+(-1==a?0:2),4,0);d(c,b.getTime()-e,4,4);-1!=a&&(d(c,b.getType()&255,1,8),d(c,b.getType()>>8,1,9));h.push(c);h.push(b.getData())}var f=[],q="",e=0,g,t="",h=[],u=this;this.setHeader=function(b){l();e=(new Date).getTime();g=b;q=".rdpv";null!=g.namesuffix&&void 0!=g.namesuffix&&(q=g.namesuffix);t=g.name+e+q;window.addEventListener("beforeunload",r,!1)};this.add=function(b){0<e&&f.push(b)};this.exit=function(b){var a=f.length;if(0!=a&&0!=e){g.duration=
f[a-1].getTime()-e;m(g);for(var c=0;c<a;c++)p(f[c]);a=new Blob(h,{type:"application/octet-binary"});l();var k=URL.createObjectURL(a);a="";__svi18n&&__svi18n.info&&(a=__svi18n.info.recready);a||(a="Recorded file is ready. Please right click and save the link.");hi5.notifications.notify({msg:'<a href="'+k+'" target="_blank" download="'+t+'">'+a+"</a>",html:!0,cbClose:function(){setTimeout(function(){(window.URL||window.webkitURL).revokeObjectURL(k)},999);b&&(window.location.href=b)}})}}};
RecordingObj=function(l,r,m,d){var p=(new Date).getTime();"undefined"==typeof d&&(d=48);this.strToInt=function(f){return parseInt(f,16)};this.getLen=function(){return m};this.getTime=function(){return p};this.getType=function(){return d};this.getData=function(){return l}};
